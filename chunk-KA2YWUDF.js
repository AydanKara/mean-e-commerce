import{a as F}from"./chunk-2BYQFWPK.js";import{a as L}from"./chunk-YZLR3JRR.js";import{a as D,b as N}from"./chunk-6LCJOVVU.js";import{g as w,i as P}from"./chunk-BWLJFYGV.js";import"./chunk-DTAZCNIX.js";import"./chunk-VWCMHKBA.js";import"./chunk-T4ITIP7S.js";import"./chunk-QKMSTV2X.js";import"./chunk-T3Q3DASN.js";import{m as M,n as A,q as k,r as T}from"./chunk-SPT54WKC.js";import{Cb as l,Db as v,Eb as a,Fb as x,Ob as n,Pb as i,Qb as p,Rb as _,Sb as b,_b as c,bc as O,cb as d,ia as f,jc as y,kc as r,lb as u,lc as h,mc as m,tc as C,vc as g,wc as I,xc as S,yc as E}from"./chunk-IB35DNSN.js";var j=t=>["/profile","order-details",t];function z(t,o){t&1&&(n(0,"div",4)(1,"span",5),r(2,"Loading..."),i()())}function B(t,o){if(t&1&&(n(0,"div",27),p(1,"div",28),i()),t&2){let e=o.$implicit;d(),x("background-image","url("+e.product.images[0]+")")}}function U(t,o){if(t&1&&(n(0,"div",27)(1,"div",29)(2,"a",30)(3,"div",31),r(4),p(5,"br"),r(6," more "),i()()()()),t&2){let e=c().$implicit;d(4),m(" + ",e.orderItems.length-3," ")}}function Y(t,o){if(t&1&&(n(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11)(5,"div",12)(6,"h6",13),r(7,"Order No:"),i(),n(8,"p",14),r(9),i()(),n(10,"div",12)(11,"h6",13),r(12,"Shipped date:"),i(),n(13,"p",15)(14,"time"),r(15),g(16,"formatDate"),i()()(),n(17,"div",12)(18,"h6",13),r(19,"Order status:"),i(),n(20,"p",16),r(21),i()(),n(22,"div",12)(23,"h6",13),r(24,"Order Amount:"),i(),n(25,"p",16),r(26),g(27,"currency"),i()()()()()(),n(28,"div",17)(29,"div",18)(30,"div",19)(31,"div",20),l(32,B,2,2,"div",21)(33,U,7,1,"div",22),i()(),n(34,"div",19)(35,"div",23)(36,"div",24)(37,"a",25),r(38," Order Details "),i()(),n(39,"div",24)(40,"a",26),r(41," Track order "),i()()()()()()()),t&2){let e=o.$implicit;d(8),O("matTooltip",e==null?null:e._id),d(),m(" ...",e._id.slice(-5)," "),d(5),v("datetime",e==null?null:e.createdAt),d(),m(" ",S(16,9,e==null?null:e.createdAt,"dd MMM, yyyy","en-US")," "),d(6),h(e.orderStatus),d(5),m(" ",I(27,13,e.totalPrice)," "),d(6),a("ngForOf",e.orderItems.slice(0,3)),d(),a("ngIf",e.orderItems.length>3),d(4),a("routerLink",C(15,j,e._id))}}function q(t,o){if(t&1&&(_(0),l(1,Y,42,17,"div",6),b()),t&2){let e=c();d(),a("ngForOf",e.orders)}}function G(t,o){t&1&&(n(0,"div",33)(1,"h4"),r(2,"No Orders yet!"),i(),n(3,"p",34),r(4,"You haven't added any orders to your account yet."),i(),n(5,"a",35),r(6,"Start Shopping"),i()())}function H(t,o){if(t&1&&l(0,G,7,0,"div",32),t&2){let e=c();a("ngIf",!e.loading)}}var R=class t{orderService=f(F);orders=[];orderItems=[];loading=!1;ngOnInit(){this.getAllOrders()}getAllOrders(){this.loading=!0,this.orderService.getAllOrders().subscribe({next:o=>{this.loading=!1,this.orders=o},error:o=>{this.loading=!1,console.error("Error fetching orders:",o)}})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=u({type:t,selectors:[["app-account-orders"]],decls:5,vars:3,consts:[["noOrders",""],["class","spinner-border text-primary d-block mt-5","role","status",4,"ngIf"],[1,"orders-list"],[4,"ngIf","ngIfElse"],["role","status",1,"spinner-border","text-primary","d-block","mt-5"],[1,"visually-hidden"],["class","card card-lg mb-4 border",4,"ngFor","ngForOf"],[1,"card","card-lg","mb-4","border"],[1,"card-body","pb-0"],[1,"card","card-sm"],[1,"card-body","bg-light"],[1,"row"],[1,"col-6","col-lg-3"],[1,"heading-xxxs","text-muted"],[1,"mb-lg-0","fs-sm","fw-bold",3,"matTooltip"],[1,"mb-lg-0","fs-sm","fw-bold"],[1,"mb-0","fs-sm","fw-bold"],[1,"card-footer"],[1,"row","align-items-center"],[1,"col-12","col-lg-6"],[1,"row","gx-5","mb-4","mb-lg-0"],["class","col-3",4,"ngFor","ngForOf"],["class","col-3",4,"ngIf"],[1,"row","gx-5","gy-3"],[1,"col-sm-6","col-12"],[1,"btn","btn-sm","w-100","btn-outline-dark",3,"routerLink"],["href","#!",1,"btn","btn-sm","w-100","btn-outline-dark"],[1,"col-3"],[1,"ratio","ratio-1x1","bg-cover"],[1,"ratio","ratio-1x1","bg-light"],[1,"ratio-item","ratio-item-text","text-reset"],[1,"fs-xxs","fw-bold"],["class","text-start mt-5 pt-4",4,"ngIf"],[1,"text-start","mt-5","pt-4"],[1,"text-muted"],["routerLink","/shop",1,"btn","btn-sm","btn-outline-dark"]],template:function(e,s){if(e&1&&(l(0,z,3,0,"div",1),n(1,"div",2),l(2,q,2,1,"ng-container",3),i(),l(3,H,1,1,"ng-template",null,0,E)),e&2){let $=y(4);a("ngIf",s.loading),d(2),a("ngIf",s.orders.length>0&&!s.loading)("ngIfElse",$)}},dependencies:[T,M,A,k,P,w,L,N,D],styles:[".card-footer[_ngcontent-%COMP%]{padding:2rem;background-color:transparent;border-top:0 solid hsla(0,0%,7%,.125)}.fs-xxs[_ngcontent-%COMP%]{font-size:.8125rem!important}.ratio-item[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.bg-cover[_ngcontent-%COMP%]{background-position:50%!important;background-repeat:no-repeat!important;background-size:cover!important}.g-5[_ngcontent-%COMP%], .gx-5[_ngcontent-%COMP%]{--bs-gutter-x: 1rem}.orders-list[_ngcontent-%COMP%]{max-height:54rem;overflow-x:hidden}"]})};export{R as AccountOrdersComponent};
