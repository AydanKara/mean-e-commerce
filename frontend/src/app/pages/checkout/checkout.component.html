<section class="pt-4 pb-5">
  <div class="container">
    <div class="row">
      <div class="col-12 text-center">
        <!-- Heading -->
        <h3 class="mb-4">Checkout</h3>
      </div>
    </div>
    <div class="row">
      <div class="col-12 col-md-7">
        <!-- Form -->
        <form #checkoutForm="ngForm" [formGroup]="form" (ngSubmit)="onSubmit()">
          <!-- Heading -->
          <h6 class="mb-4">Billing Details</h6>

          <!-- Billing details -->
          <div class="row mb-5">
            <div class="col-12">
              <!-- Full Name -->
              <div class="form-group">
                <label class="form-label" for="fullName">Full Name *</label>
                <input
                  class="form-control form-control-sm"
                  id="fullName"
                  formControlName="fullName"
                  type="text"
                  placeholder="Full Name"
                  required
                />
                <p
                  class="text-danger"
                  *ngIf="
                    form.get('fullName')?.touched &&
                    form.get('fullName')?.invalid
                  "
                >
                  Full Name must be at least 8 characters.
                </p>
              </div>
            </div>

            <div class="col-12">
              <!-- Email -->
              <div class="form-group">
                <label class="form-label" for="email">Email *</label>
                <input
                  class="form-control form-control-sm"
                  id="email"
                  formControlName="email"
                  type="email"
                  placeholder="Email"
                  required
                />
                <p
                  class="text-danger"
                  *ngIf="
                    form.get('email')?.touched && form.get('email')?.invalid
                  "
                >
                  Please enter a valid email.
                </p>
              </div>
            </div>

            <div class="col-12">
              <!-- Country -->
              <div class="form-group">
                <label class="form-label" for="country">Country *</label>
                <input
                  class="form-control form-control-sm"
                  id="country"
                  formControlName="country"
                  type="text"
                  placeholder="Country"
                  required
                />
                <p
                  class="text-danger"
                  *ngIf="
                    form.get('country')?.touched && form.get('country')?.invalid
                  "
                >
                  Please enter a valid Country.
                </p>
              </div>
            </div>
            <div class="col-12">
              <!-- Address -->
              <div class="form-group">
                <label class="form-label" for="address">Address *</label>
                <input
                  class="form-control form-control-sm"
                  id="address"
                  formControlName="address"
                  type="text"
                  placeholder="Address"
                  required
                />
                <p
                  class="text-danger"
                  *ngIf="
                    form.get('address')?.touched && form.get('address')?.invalid
                  "
                >
                  Address must be at least 10 characters.
                </p>
              </div>
            </div>

            <div class="col-12 col-md-6">
              <!-- Town / City -->
              <div class="form-group">
                <label class="form-label" for="city">Town / City *</label>
                <input
                  class="form-control form-control-sm"
                  id="city"
                  formControlName="city"
                  type="text"
                  placeholder="Town / City"
                  required
                />
                <p
                  class="text-danger"
                  *ngIf="form.get('city')?.touched && form.get('city')?.invalid"
                >
                  City must be at least 4 characters.
                </p>
              </div>
            </div>
            <div class="col-12 col-md-6">
              <!-- ZIP / Postcode -->
              <div class="form-group">
                <label class="form-label" for="zipCode">ZIP / Postcode *</label>
                <input
                  class="form-control form-control-sm"
                  id="zipCode"
                  formControlName="zipCode"
                  type="text"
                  placeholder="ZIP / Postcode"
                  required
                />
                <p
                  class="text-danger"
                  *ngIf="
                    form.get('zipCode')?.touched && form.get('zipCode')?.invalid
                  "
                >
                  Please enter a valid ZIP or Postcode.
                </p>
              </div>
            </div>
            <div class="col-12">
              <!-- Mobile Phone -->
              <div class="form-group mb-0">
                <label class="form-label" for="phone">Mobile Phone *</label>
                <input
                  class="form-control form-control-sm"
                  id="phone"
                  formControlName="phone"
                  type="tel"
                  placeholder="Mobile Phone"
                  required
                />
                <p
                  class="text-danger"
                  *ngIf="
                    form.get('phone')?.touched && form.get('phone')?.invalid
                  "
                >
                  Phone number must be at least 10 digits.
                </p>
              </div>
            </div>
          </div>

          <!-- Heading -->
          <h6 class="mb-4">Payment</h6>

          <!-- List group -->
          <div class="list-group list-group-sm mb-7">
            <div class="list-group-item">
              <!-- Radio -->
              <div class="form-check custom-radio">
                <!-- Input -->
                <input
                  class="form-check-input"
                  id="checkoutPaymentCard"
                  [(ngModel)]="paymentMethod"
                  [ngModelOptions]="{ standalone: true }"
                  [value]="'Credit Card'"
                  name="payment"
                  type="radio"
                />

                <!-- Label -->
                <label
                  class="form-check-label fs-sm text-body text-nowrap"
                  for="checkoutPaymentCard"
                >
                  Credit Card
                  <img
                    class="ms-2"
                    src="https://yevgenysim-turkey.github.io/shopper/assets/img/brands/color/cards.svg"
                    alt="..."
                  />
                </label>
              </div>
            </div>
            <div class="list-group-item">
              <!-- Radio -->
              <div class="form-check custom-radio">
                <!-- Input -->
                <input
                  class="form-check-input"
                  id="checkoutPaymentPaypal"
                  [(ngModel)]="paymentMethod"
                  [ngModelOptions]="{ standalone: true }"
                  [value]="'PayPal'"
                  name="payment"
                  type="radio"
                />

                <!-- Label -->
                <label
                  class="form-check-label fs-sm text-body text-nowrap"
                  for="checkoutPaymentPaypal"
                >
                  <img
                    src="https://yevgenysim-turkey.github.io/shopper/assets/img/brands/color/paypal.svg"
                    alt="..."
                  />
                </label>
              </div>
            </div>
          </div>
        </form>
      </div>
      <div class="col-12 col-md-5 col-lg-4 offset-lg-1">
        <!-- Heading -->
        <h6 class="mb-4">Order Items ({{ orderItems.length }})</h6>

        <!-- Divider -->
        <hr class="my-4" />

        <!-- List group -->
        <ul
          class="list-group list-group-lg list-group-flush-y list-group-flush-x mb-3"
        >
          <li class="list-group-item" *ngFor="let item of cartItems">
            <div class="row align-items-center">
              <div class="col-4" style="height: 6rem">
                <!-- Image -->
                <a routerLink="/product/{{ item._id }}">
                  <img
                    src="{{ item.images }}"
                    alt="{{ item.name }}"
                    class="img-fluid w-100 h-100 object-fit-cover"
                  />
                </a>
              </div>
              <div class="col">
                <!-- Title -->
                <p class="mb-4 fs-sm fw-bold">
                  <a
                    class="text-body"
                    routerLink="/product/{{ item._id }}"
                    >{{ item.name }}</a
                  >
                  <br />
                  <span class="text-muted">{{ item.price | currency }}</span>
                  <span class="fw-bold"> x </span>
                  <span class="fw-bolder">{{ item.quantity }}</span>
                </p>
              </div>
            </div>
          </li>
        </ul>

        <!-- Card -->
        <div class="card mb-4 bg-light">
          <div class="card-body">
            <ul
              class="list-group list-group-sm list-group-flush-y list-group-flush-x"
            >
              <li class="list-group-item d-flex">
                <span>Subtotal</span>
                <span class="ms-auto fs-sm">{{ totalPrice | currency }}</span>
              </li>
              <li class="list-group-item d-flex">
                <span>Tax</span> <span class="ms-auto fs-sm">$00.00</span>
              </li>
              <li class="list-group-item d-flex">
                <span>Shipping</span> <span class="ms-auto fs-sm">$8.00</span>
              </li>
              <li class="list-group-item d-flex fs-lg fw-bold">
                <span>Total</span>
                <span class="ms-auto">{{ totalPrice | currency }}</span>
              </li>
            </ul>
          </div>
        </div>

        <!-- Disclaimer -->
        <p class="mb-3 fs-xs text-gray-500">
          Your personal data will be used to process your order, support your
          experience throughout this website, and for other purposes described
          in our privacy policy.
        </p>

        <!-- Button -->
        <button
          class="btn w-100 btn-dark"
          type="button"
          (click)="checkoutForm.ngSubmit.emit()"
          [disabled]="form.invalid"
        >
          Place Order
        </button>
      </div>
    </div>
  </div>
</section>
