import{a as R}from"./chunk-YG2UHIQ6.js";import{a as y}from"./chunk-X7KAA5KW.js";import"./chunk-VE74UDV5.js";import"./chunk-GQBWTHKC.js";import{f as _}from"./chunk-BWLJFYGV.js";import{A as N,C as L,c as F,e as c,h as x,i as M,n as w,q as E,r as I,w as P}from"./chunk-EQ3PTJBT.js";import"./chunk-JR3KB4OF.js";import"./chunk-VWCMHKBA.js";import"./chunk-T3Q3DASN.js";import"./chunk-T4ITIP7S.js";import"./chunk-QKMSTV2X.js";import{n as S,r as C}from"./chunk-SPT54WKC.js";import{Cb as g,Eb as l,Ob as i,Pb as e,Qb as s,Yb as v,_b as b,cb as a,db as u,kc as n,lb as f,mc as h}from"./chunk-IB35DNSN.js";function A(r,t){r&1&&(i(0,"div",20),n(1," Please enter a valid email. "),e())}function G(r,t){r&1&&(i(0,"div",20),n(1," Password must be at least 6 characters. "),e())}function O(r,t){if(r&1&&(i(0,"div",21),n(1),e()),r&2){let m=b();a(),h(" ",m.errorMessage," ")}}var k=class r{constructor(t,m,o){this.fb=t;this.userService=m;this.router=o;this.loginForm=this.fb.group({email:["",[c.required,c.email]],password:["",[c.required,c.minLength(6)]]})}loginForm;errorMessage="";onSubmit(){this.loginForm.invalid||this.userService.login(this.loginForm.value).subscribe({next:t=>{t.isAdmin?(this.userService.setAuthState(t),this.router.navigate(["/admin/dashboard"])):(this.userService.setAuthState(t),this.router.navigate(["/home"]))},error:t=>this.errorMessage=t.error.message||"Login failed"})}static \u0275fac=function(m){return new(m||r)(u(N),u(y),u(_))};static \u0275cmp=f({type:r,selectors:[["app-login"]],decls:33,vars:5,consts:[[1,"my-5","py-5"],[1,"container"],[1,"row"],[1,"col-12"],[1,"card","card-lg","mb-5","mb-md-0"],[1,"card-body"],[1,"mb-4"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","email",1,"visually-hidden"],["id","email","type","email","placeholder","Email Address *","required","","formControlName","email",1,"form-control","form-control-sm"],["class","text-danger",4,"ngIf"],["for","password",1,"visually-hidden"],["id","password","type","password","placeholder","Password *","required","","formControlName","password",1,"form-control","form-control-sm"],[1,"col-12","col-md"],[1,"form-check"],["id","loginRemember","type","checkbox",1,"form-check-input"],["for","loginRemember",1,"form-check-label"],["type","submit",1,"btn","btn-sm","btn-dark",3,"disabled"],["class","text-danger mt-3",4,"ngIf"],[1,"text-danger"],[1,"text-danger","mt-3"]],template:function(m,o){if(m&1&&(i(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h6",6),n(7,"Returning Customer"),e(),i(8,"form",7),v("ngSubmit",function(){return o.onSubmit()}),i(9,"div",2)(10,"div",3)(11,"div",8)(12,"label",9),n(13," Email Address * "),e(),s(14,"input",10),g(15,A,2,0,"div",11),e()(),i(16,"div",3)(17,"div",8)(18,"label",12),n(19," Password * "),e(),s(20,"input",13),g(21,G,2,0,"div",11),e()(),i(22,"div",14)(23,"div",8)(24,"div",15),s(25,"input",16),i(26,"label",17),n(27," Remember me "),e()()()(),i(28,"div",3)(29,"button",18),n(30," Sign In "),e()(),g(31,O,2,1,"div",19),e()()()()()()()(),s(32,"app-features")),m&2){let d,p;a(8),l("formGroup",o.loginForm),a(7),l("ngIf",((d=o.loginForm.get("email"))==null?null:d.touched)&&((d=o.loginForm.get("email"))==null?null:d.invalid)),a(6),l("ngIf",((p=o.loginForm.get("password"))==null?null:p.touched)&&((p=o.loginForm.get("password"))==null?null:p.invalid)),a(8),l("disabled",o.loginForm.invalid),a(2),l("ngIf",o.errorMessage)}},dependencies:[C,S,L,w,F,x,M,P,E,I,R],styles:[".card[_ngcontent-%COMP%]{background-color:#f5f5f5;margin:0 auto;max-width:36rem;justify-content:center;align-items:center}.card-lg[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%], .card-lg[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{padding:2rem}.card-body[_ngcontent-%COMP%]{flex:0 0 auto}"]})};export{k as LoginComponent};
