import{a as T}from"./chunk-DRAQ66MK.js";import{a as F}from"./chunk-2EXTEYWK.js";import{a as A}from"./chunk-ME5EFWLD.js";import{d as N,g as k,i as B}from"./chunk-WXBTXMVX.js";import"./chunk-BZ3RNFHT.js";import"./chunk-IWZCDIWM.js";import"./chunk-T3Q3DASN.js";import"./chunk-T4ITIP7S.js";import"./chunk-KMCRH5WO.js";import{m as E,n as P,q as w,r as D}from"./chunk-ALPSVARF.js";import{$a as b,Cb as f,Db as y,Eb as s,Ob as n,Pb as i,Qb as d,Rb as S,Sb as O,X as h,_b as C,bc as x,cb as r,ia as u,kc as t,lb as I,lc as p,mc as a,nc as g,tc as _,vc as m,wc as c,xc as M}from"./chunk-ODWXDWB7.js";var R=o=>["/product",o];function z(o,l){o&1&&(n(0,"div",2)(1,"span",3),t(2,"Loading..."),i()())}function L(o,l){if(o&1&&(n(0,"li",29)(1,"div",30)(2,"div",31)(3,"a",32),d(4,"img",33),i()(),n(5,"div",34)(6,"p",35)(7,"a",36),t(8),i(),d(9,"br"),n(10,"span",37),t(11),m(12,"currency"),i()()()()()),o&2){let e=l.$implicit;r(3),s("routerLink",_(8,R,e.product._id)),r(),x("src",e.product.images[0],b),x("alt",e.product.name),r(4),g("",e.product.name," x ",e.quantity,""),r(3),p(c(12,6,e.price))}}function $(o,l){if(o&1&&(S(0),n(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"div",9)(7,"h6",10),t(8,"Order No:"),i(),n(9,"p",11),t(10),i()(),n(11,"div",9)(12,"h6",10),t(13,"Shipped date:"),i(),n(14,"p",11)(15,"time"),t(16),m(17,"formatDate"),i()()(),n(18,"div",9)(19,"h6",10),t(20,"Order status:"),i(),n(21,"p",12),t(22),i()(),n(23,"div",9)(24,"h6",10),t(25,"Order Amount:"),i(),n(26,"p",12),t(27),m(28,"currency"),i()()()()()(),n(29,"div",13)(30,"h5",14),t(31),i(),d(32,"hr",15),n(33,"ul",16),f(34,L,13,10,"li",17),i()()(),n(35,"div",4)(36,"div",18)(37,"h5",14),t(38,"Order Total"),i(),n(39,"ul",19)(40,"li",20)(41,"span"),t(42,"Subtotal"),i(),n(43,"span",21),t(44),m(45,"currency"),i()(),n(46,"li",20)(47,"span"),t(48,"Tax"),i(),n(49,"span",21),t(50,"$0.00"),i()(),n(51,"li",20)(52,"span"),t(53,"Shipping"),i(),n(54,"span",21),t(55,"$0.00"),i()(),n(56,"li",22)(57,"span"),t(58,"Total"),i(),n(59,"span",21),t(60),m(61,"currency"),i()()()()(),n(62,"div",23)(63,"div",18)(64,"h5",14),t(65,"Billing & Shipping Details"),i(),n(66,"div",8)(67,"div",24)(68,"p",25),t(69,"Billing Address:"),i(),n(70,"p",26),t(71),d(72,"br"),t(73),d(74,"br"),t(75),d(76,"br"),t(77),i()(),n(78,"div",24)(79,"p",25),t(80,"Shipping Address:"),i(),n(81,"p",26),t(82),d(83,"br"),t(84),d(85,"br"),t(86),d(87,"br"),t(88),i()(),n(89,"div",27)(90,"div")(91,"p",25),t(92,"Payment Method:"),i(),n(93,"p",28),t(94),i()(),n(95,"div")(96,"p",25),t(97,"Payment Status:"),i(),n(98,"p",28),t(99),i()()()()()(),O()),o&2){let e=C();r(10),p(e.order==null?null:e.order._id),r(5),y("datetime",e.order==null?null:e.order.createdAt),r(),a(" ",M(17,21,e.order==null?null:e.order.createdAt,"dd MMM, yyyy","en-US")," "),r(6),p(e.order==null?null:e.order.orderStatus),r(5),a(" ",c(28,25,e.order==null?null:e.order.totalPrice)," "),r(4),a("Order Items (",e.order==null||e.order.orderItems==null?null:e.order.orderItems.length,")"),r(3),s("ngForOf",e.order==null?null:e.order.orderItems),r(10),p(c(45,27,e.order==null?null:e.order.totalPrice)),r(16),p(c(61,29,e.order==null?null:e.order.totalPrice)),r(11),a(" ",e.userName,", "),r(2),a(" ",e.order==null||e.order.shippingInfo==null?null:e.order.shippingInfo.address,", "),r(2),g(" ",e.order==null||e.order.shippingInfo==null?null:e.order.shippingInfo.city,", ",e.order==null||e.order.shippingInfo==null?null:e.order.shippingInfo.zipCode,", "),r(2),a(" ",e.order==null||e.order.shippingInfo==null?null:e.order.shippingInfo.country," "),r(5),a(" ",e.userName,", "),r(2),a(" ",e.order==null||e.order.shippingInfo==null?null:e.order.shippingInfo.address,", "),r(2),g(" ",e.order==null||e.order.shippingInfo==null?null:e.order.shippingInfo.city,", ",e.order==null||e.order.shippingInfo==null?null:e.order.shippingInfo.zipCode,", "),r(2),a(" ",e.order==null||e.order.shippingInfo==null?null:e.order.shippingInfo.country," "),r(6),p(e.order==null?null:e.order.paymentMethod),r(5),p(e.order==null?null:e.order.paymentStatus)}}var U=class o{activateRoute=u(N);orderService=u(T);userService=u(F);order=null;userName="";loading=!1;ngOnInit(){this.loadOrder(),this.getUserName()}loadOrder(){this.loading=!0,this.activateRoute.paramMap.pipe(h(l=>{let e=l.get("id");return e?this.orderService.getOrderById(e):[]})).subscribe({next:l=>{this.loading=!1,this.order=l},error:l=>{this.loading=!1,console.error(l)}})}getUserName(){this.userService.getCurrentUser().subscribe(l=>{this.userName=l.fullName})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=I({type:o,selectors:[["app-order-details"]],decls:2,vars:2,consts:[["class","spinner-border text-primary d-block mt-5","role","status",4,"ngIf"],[4,"ngIf"],["role","status",1,"spinner-border","text-primary","d-block","mt-5"],[1,"visually-hidden"],[1,"card","card-lg","mb-5","border"],[1,"card-body","pb-0"],[1,"card","card-sm"],[1,"card-body","bg-light"],[1,"row"],[1,"col-6","col-lg-3"],[1,"heading-xxxs","text-muted"],[1,"mb-lg-0","fs-sm","fw-bold"],[1,"mb-0","fs-sm","fw-bold"],[1,"card-footer"],[1,"mb-4"],[1,"my-4"],[1,"list-group","list-group-lg","list-group-flush-y","list-group-flush-x"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"card-body"],[1,"list-group","list-group-sm","list-group-flush-y","list-group-flush-x"],[1,"list-group-item","d-flex"],[1,"ms-auto"],[1,"list-group-item","d-flex","fs-lg","fw-bold"],[1,"card","card-lg","border"],[1,"col-12","col-md-4"],[1,"mb-2","fw-bold"],[1,"mb-2","mb-md-0","text-gray-500"],[1,"col-12","col-md-4","d-flex","flex-column","justify-content-between"],[1,"mb-0","text-gray-500"],[1,"list-group-item"],[1,"row","align-items-center"],[1,"col-4","col-md-3","col-xl-2"],[3,"routerLink"],[1,"img-fluid",3,"src","alt"],[1,"col"],[1,"mb-4","fs-sm","fw-bold"],["href","product.html",1,"text-body","docs-creator"],[1,"text-muted"]],template:function(e,v){e&1&&f(0,z,3,0,"div",0)(1,$,100,31,"ng-container",1),e&2&&(s("ngIf",v.loading),r(),s("ngIf",!v.loading))},dependencies:[D,E,P,w,B,k,A],styles:[".card[_ngcontent-%COMP%]{background-color:#fff}.border[_ngcontent-%COMP%]{border:1px solid #e5e5e5!important}.card-lg[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%], .card-lg[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{padding:2rem}.card-body[_ngcontent-%COMP%]{flex:0 0 auto}.card-footer[_ngcontent-%COMP%]{background-color:transparent;border-top:0 solid hsla(0,0%,7%,.125)}hr[_ngcontent-%COMP%]{background-color:currentColor;border:0;color:#909090;margin:1.5rem 0;opacity:.25}hr[_ngcontent-%COMP%]:not([size]){height:1px}.list-group[_ngcontent-%COMP%]{max-height:38rem;overflow-y:auto;overflow-x:hidden;border-radius:0}.list-group-item[_ngcontent-%COMP%]{border:1px solid #e5e5e5;display:block;padding:1.5rem;position:relative}.list-group-item[_ngcontent-%COMP%], .list-group-item-action[_ngcontent-%COMP%]:active{background-color:transparent;color:#1f1f1f}.list-group-item-action[_ngcontent-%COMP%]{color:#767676;text-align:inherit;width:100%}.list-group-flush-x[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{border-left:none;border-right:none;padding-left:0;padding-right:0}.list-group-item[_ngcontent-%COMP%] + .list-group-item[_ngcontent-%COMP%]{border-top-width:0}.list-group-flush-y[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:first-child{border-top:none;padding-top:0}.list-group-flush-y[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:last-child{border-bottom:0;padding-bottom:0}"]})};export{U as OrderDetailsComponent};
