import{a as T}from"./chunk-7JRKJCSL.js";import{a as F}from"./chunk-7GLENHJB.js";import{g as P,i as w}from"./chunk-OM67MVYA.js";import"./chunk-T4ITIP7S.js";import"./chunk-BLI2WIQU.js";import{m as E,n as A,q as k,r as M}from"./chunk-RRDE5Q37.js";import{$b as m,Db as l,Eb as x,Fb as d,Gb as _,Pb as n,Qb as i,Rb as p,Sb as b,Tb as O,db as a,ia as u,kc as y,lc as r,mb as v,mc as g,nc as c,uc as h,wc as f,xc as S,yc as C,zc as I}from"./chunk-A5AGJRWB.js";var L=e=>["/profile","order-details",e];function R(e,o){e&1&&(n(0,"div",4)(1,"span",5),r(2,"Loading..."),i()())}function $(e,o){if(e&1&&(n(0,"div",26),p(1,"div",27),i()),e&2){let t=o.$implicit;a(),_("background-image","url("+t.product.images[0]+")")}}function j(e,o){if(e&1&&(n(0,"div",26)(1,"div",28)(2,"a",29)(3,"div",30),r(4),p(5,"br"),r(6," more "),i()()()()),e&2){let t=m().$implicit;a(4),c(" + ",t.orderItems.length-3," ")}}function z(e,o){if(e&1&&(n(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11)(5,"div",12)(6,"h6",13),r(7,"Order No:"),i(),n(8,"p",14),r(9),i()(),n(10,"div",12)(11,"h6",13),r(12,"Shipped date:"),i(),n(13,"p",14)(14,"time"),r(15),f(16,"formatDate"),i()()(),n(17,"div",12)(18,"h6",13),r(19,"Status:"),i(),n(20,"p",15),r(21),i()(),n(22,"div",12)(23,"h6",13),r(24,"Order Amount:"),i(),n(25,"p",15),r(26),f(27,"currency"),i()()()()()(),n(28,"div",16)(29,"div",17)(30,"div",18)(31,"div",19),l(32,$,2,2,"div",20)(33,j,7,1,"div",21),i()(),n(34,"div",18)(35,"div",22)(36,"div",23)(37,"a",24),r(38," Order Details "),i()(),n(39,"div",23)(40,"a",25),r(41," Track order "),i()()()()()()()),e&2){let t=o.$implicit;a(9),g(t._id),a(5),x("datetime",t==null?null:t.createdAt),a(),c(" ",C(16,8,t==null?null:t.createdAt,"dd MMM, yyyy","en-US")," "),a(6),g(t.paymentStatus),a(5),c(" ",S(27,12,t.totalPrice)," "),a(6),d("ngForOf",t.orderItems.slice(0,3)),a(),d("ngIf",t.orderItems.length>3),a(4),d("routerLink",h(14,L,t._id))}}function B(e,o){if(e&1&&(b(0),l(1,z,42,16,"div",6),O()),e&2){let t=m();a(),d("ngForOf",t.orders)}}function U(e,o){e&1&&(n(0,"div",32)(1,"h4"),r(2,"No Orders yet!"),i(),n(3,"p",33),r(4,"You haven't added any orders to your account yet."),i(),n(5,"a",34),r(6,"Start Shopping"),i()())}function Y(e,o){if(e&1&&l(0,U,7,0,"div",31),e&2){let t=m();d("ngIf",!t.loading)}}var D=class e{orderService=u(F);orders=[];orderItems=[];loading=!1;ngOnInit(){this.getAllOrders()}getAllOrders(){this.loading=!0,this.orderService.getAllOrders().subscribe({next:o=>{this.loading=!1,this.orders=o},error:o=>{this.loading=!1,console.error("Error fetching orders:",o)}})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=v({type:e,selectors:[["app-account-orders"]],decls:5,vars:3,consts:[["noOrders",""],["class","spinner-border text-primary d-block mt-5","role","status",4,"ngIf"],[1,"orders-list"],[4,"ngIf","ngIfElse"],["role","status",1,"spinner-border","text-primary","d-block","mt-5"],[1,"visually-hidden"],["class","card card-lg mb-4 border",4,"ngFor","ngForOf"],[1,"card","card-lg","mb-4","border"],[1,"card-body","pb-0"],[1,"card","card-sm"],[1,"card-body","bg-light"],[1,"row"],[1,"col-6","col-lg-3"],[1,"heading-xxxs","text-muted"],[1,"mb-lg-0","fs-sm","fw-bold"],[1,"mb-0","fs-sm","fw-bold"],[1,"card-footer"],[1,"row","align-items-center"],[1,"col-12","col-lg-6"],[1,"row","gx-5","mb-4","mb-lg-0"],["class","col-3",4,"ngFor","ngForOf"],["class","col-3",4,"ngIf"],[1,"row","gx-5"],[1,"col-6"],[1,"btn","btn-sm","w-100","btn-outline-dark",3,"routerLink"],["href","#!",1,"btn","btn-sm","w-100","btn-outline-dark"],[1,"col-3"],[1,"ratio","ratio-1x1","bg-cover"],[1,"ratio","ratio-1x1","bg-light"],[1,"ratio-item","ratio-item-text","text-reset"],[1,"fs-xxs","fw-bold"],["class","text-start mt-5 pt-4",4,"ngIf"],[1,"text-start","mt-5","pt-4"],[1,"text-muted"],["routerLink","/shop",1,"btn","btn-sm","btn-outline-dark"]],template:function(t,s){if(t&1&&(l(0,R,3,0,"div",1),n(1,"div",2),l(2,B,2,1,"ng-container",3),i(),l(3,Y,1,1,"ng-template",null,0,I)),t&2){let N=y(4);d("ngIf",s.loading),a(2),d("ngIf",s.orders.length>0&&!s.loading)("ngIfElse",N)}},dependencies:[M,E,A,k,w,P,T],styles:[".card-footer[_ngcontent-%COMP%]{padding:2rem;background-color:transparent;border-top:0 solid hsla(0,0%,7%,.125)}.fs-xxs[_ngcontent-%COMP%]{font-size:.8125rem!important}.ratio-item[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.bg-cover[_ngcontent-%COMP%]{background-position:50%!important;background-repeat:no-repeat!important;background-size:cover!important}.g-5[_ngcontent-%COMP%], .gx-5[_ngcontent-%COMP%]{--bs-gutter-x: 1rem}.orders-list[_ngcontent-%COMP%]{max-height:54rem;overflow-x:hidden}"]})};export{D as AccountOrdersComponent};
