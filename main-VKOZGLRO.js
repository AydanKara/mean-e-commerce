import{a as de}from"./chunk-N2MTD5YT.js";import{a as se,b as me,c as ce,d as le}from"./chunk-QTZQ5KLV.js";import"./chunk-WLCGL2XT.js";import{a as s}from"./chunk-5DAWKR5B.js";import{s as R}from"./chunk-7CMIEGEP.js";import"./chunk-MAP4FUGS.js";import{a as ae,b as pe,e as b,f as a,i as I}from"./chunk-NTBE4NJ6.js";import"./chunk-BRGKWRVN.js";import"./chunk-T3Q3DASN.js";import"./chunk-5WSSEIHL.js";import{d as re,e as ne,f as ie}from"./chunk-MAQY66WU.js";import{d as ee,i as te,n as oe,q as S}from"./chunk-HXLDE4VL.js";import{$ as E,Bb as Y,Ca as B,D as f,Db as X,F as M,J as v,L as D,La as z,N as x,Na as G,Nb as Z,Ob as q,Pb as d,Qb as J,Rb as K,ca as p,eb as k,fa as T,fb as V,ha as g,ia as i,ic as Q,jb as W,la as L,ma as U,mb as A,q as j,t as u,u as h,xc as $,za as H}from"./chunk-XVGCL5GT.js";var m=class e{constructor(o,t){this.userService=o;this.router=t}canActivate(o,t){return h([this.userService.getAuthState(),this.userService.getLoadingState()]).pipe(f(([r,n])=>!n),u(([r])=>r?!0:(this.router.navigate(["/login"]),!1)),v(1))}static \u0275fac=function(t){return new(t||e)(g(s),g(a))};static \u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})};var F=class e{ngOnInit(){}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=A({type:e,selectors:[["app-layout"]],decls:4,vars:0,template:function(t,r){t&1&&(d(0,"app-header"),Z(1,"main"),d(2,"router-outlet"),q(),d(3,"app-footer"))},dependencies:[I,b,S,ce,le],encapsulation:2})};var O=class e{constructor(o,t){this.userService=o;this.router=t}canActivate(o,t){return h([this.userService.getAuthState(),this.userService.getLoadingState()]).pipe(f(([r,n])=>!n),u(([r])=>r?.isAdmin?!0:(this.router.navigate(["/"]),!1)),v(1))}static \u0275fac=function(t){return new(t||e)(g(s),g(a))};static \u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})};var P=class e{orderService=i(de);router=i(a);canActivate(){return this.orderService.isOrderPlaced()?!0:(this.router.navigate(["/"]),!1)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})};var y=class e{userService=i(s);router=i(a);location=i(te);snackbar=i(R);canActivate(o,t){return h([this.userService.getAuthState(),this.userService.getLoadingState()]).pipe(f(([r,n])=>!n),u(([r])=>r?(this.snackbar.error("You are already logged in!"),setTimeout(()=>this.navigateBack(),2e3),!1):!0),v(1))}navigateBack(){this.location.back()}static \u0275fac=function(t){return new(t||e)};static \u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})};var he=[{path:"admin",canActivate:[m,O],loadComponent:()=>import("./chunk-3PILWFR7.js").then(e=>e.AdminLayoutComponent),children:[{path:"products/edit/:id",loadComponent:()=>import("./chunk-AOPT476D.js").then(e=>e.ProductCreateComponent)},{path:"products",loadComponent:()=>import("./chunk-XX4QLJQI.js").then(e=>e.ProductsComponent)},{path:"dashboard",loadComponent:()=>import("./chunk-PFA6WGJM.js").then(e=>e.DashboardComponent)},{path:"product/create",loadComponent:()=>import("./chunk-AOPT476D.js").then(e=>e.ProductCreateComponent)},{path:"categories",loadComponent:()=>import("./chunk-ABRYPV76.js").then(e=>e.CategoriesComponent)},{path:"user-lists",loadComponent:()=>import("./chunk-VG7RVUVA.js").then(e=>e.UsersComponent)}]},{path:"",component:F,children:[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",loadComponent:()=>import("./chunk-ZHOIEZQ3.js").then(e=>e.HomeComponent)},{path:"login",canActivate:[y],loadComponent:()=>import("./chunk-RJWOQENJ.js").then(e=>e.LoginComponent)},{path:"register",canActivate:[y],loadComponent:()=>import("./chunk-XDROUEOV.js").then(e=>e.RegisterComponent)},{path:"profile",loadComponent:()=>import("./chunk-KKMZULAN.js").then(e=>e.ProfileComponent),canActivate:[m],children:[{path:"",loadComponent:()=>import("./chunk-TGKMP5LD.js").then(e=>e.AccountWelcomeComponent)},{path:"account-orders",loadComponent:()=>import("./chunk-WSLR6EOP.js").then(e=>e.AccountOrdersComponent)},{path:"order-details/:id",loadComponent:()=>import("./chunk-CEM2XGNR.js").then(e=>e.OrderDetailsComponent)},{path:"account-wishlist",loadComponent:()=>import("./chunk-BIZK6B7B.js").then(e=>e.AccountWishlistComponent)},{path:"account-personal-info",loadComponent:()=>import("./chunk-HPCVHTS2.js").then(e=>e.AccountPersonalInfoComponent)},{path:"account-address",loadComponent:()=>import("./chunk-I57NMK5D.js").then(e=>e.AccountAddressComponent)},{path:"account-payment",loadComponent:()=>import("./chunk-A5HCF75G.js").then(e=>e.AccountPaymentComponent)}]},{path:"shop",loadComponent:()=>import("./chunk-UR3YPC4B.js").then(e=>e.ShopComponent)},{path:"product/:id",loadComponent:()=>import("./chunk-UXHMMRLA.js").then(e=>e.ProductDetailsComponent)},{path:"shopping-cart",loadComponent:()=>import("./chunk-TGHG65ZN.js").then(e=>e.ShoppingCartComponent),canActivate:[m]},{path:"checkout",loadComponent:()=>import("./chunk-VGK2FYJ2.js").then(e=>e.CheckoutComponent),canActivate:[m]},{path:"order-confirmation/:id",loadComponent:()=>import("./chunk-4SD56DSY.js").then(e=>e.OrderConfirmationComponent),canActivate:[m,P]},{path:"not-found",loadComponent:()=>import("./chunk-GFYOZ6EQ.js").then(e=>e.NotFoundComponent)},{path:"server-error",loadComponent:()=>import("./chunk-RMPWLBRN.js").then(e=>e.ServerErrorComponent)},{path:"**",redirectTo:"not-found",pathMatch:"full"}]}];function Ae(e,o){e&1&&(J(0),d(1,"router-outlet"),K())}function Se(e,o){e&1&&d(0,"mat-progress-bar",2)}var w=class e{constructor(o,t){this.userService=o;this.router=t}isLoading=!0;ngOnInit(){}static \u0275fac=function(t){return new(t||e)(k(s),k(a))};static \u0275cmp=A({type:e,selectors:[["app-root"]],decls:3,vars:2,consts:[["loadingTemplate",""],[4,"ngIf","ngIfElse"],["mode","indeterminate"]],template:function(t,r){if(t&1&&Y(0,Ae,2,0,"ng-container",1)(1,Se,1,0,"ng-template",null,0,$),t&2){let n=Q(2);X("ngIf",r.isLoading)("ngIfElse",n)}},dependencies:[b,S,oe,se],styles:[".loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;width:100%;position:fixed;top:0;left:0;background-color:#fffc;z-index:9999}"]})};var be="@",Ie=(()=>{class e{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=i(H,{optional:!0});loadingSchedulerFn=i(Re,{optional:!0});_engine;constructor(t,r,n,c,l){this.doc=t,this.delegate=r,this.zone=n,this.animationType=c,this.moduleImpl=l}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-TPNRDU7G.js").then(n=>n),r;return this.loadingSchedulerFn?r=this.loadingSchedulerFn(t):r=t(),r.catch(n=>{throw new E(5300,!1)}).then(({\u0275createEngine:n,\u0275AnimationRendererFactory:c})=>{this._engine=n(this.animationType,this.doc);let l=new c(this.delegate,this._engine,this.zone);return this.delegate=l,l})}createRenderer(t,r){let n=this.delegate.createRenderer(t,r);if(n.\u0275type===0)return n;typeof n.throwOnSyntheticProps=="boolean"&&(n.throwOnSyntheticProps=!1);let c=new _(n);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(l=>{let Ce=l.createRenderer(t,r);c.use(Ce),this.scheduler?.notify(11)}).catch(l=>{c.use(n)}),c}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static \u0275fac=function(r){V()};static \u0275prov=p({token:e,factory:e.\u0275fac})}return e})(),_=class{delegate;replay=[];\u0275type=1;constructor(o){this.delegate=o}use(o){if(this.delegate=o,this.replay!==null){for(let t of this.replay)t(o);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(o,t){return this.delegate.createElement(o,t)}createComment(o){return this.delegate.createComment(o)}createText(o){return this.delegate.createText(o)}get destroyNode(){return this.delegate.destroyNode}appendChild(o,t){this.delegate.appendChild(o,t)}insertBefore(o,t,r,n){this.delegate.insertBefore(o,t,r,n)}removeChild(o,t,r){this.delegate.removeChild(o,t,r)}selectRootElement(o,t){return this.delegate.selectRootElement(o,t)}parentNode(o){return this.delegate.parentNode(o)}nextSibling(o){return this.delegate.nextSibling(o)}setAttribute(o,t,r,n){this.delegate.setAttribute(o,t,r,n)}removeAttribute(o,t,r){this.delegate.removeAttribute(o,t,r)}addClass(o,t){this.delegate.addClass(o,t)}removeClass(o,t){this.delegate.removeClass(o,t)}setStyle(o,t,r,n){this.delegate.setStyle(o,t,r,n)}removeStyle(o,t,r){this.delegate.removeStyle(o,t,r)}setProperty(o,t,r){this.shouldReplay(t)&&this.replay.push(n=>n.setProperty(o,t,r)),this.delegate.setProperty(o,t,r)}setValue(o,t){this.delegate.setValue(o,t)}listen(o,t,r){return this.shouldReplay(t)&&this.replay.push(n=>n.listen(o,t,r)),this.delegate.listen(o,t,r)}shouldReplay(o){return this.replay!==null&&o.startsWith(be)}},Re=new T("");function fe(e="animations"){return G("NgAsyncAnimations"),L([{provide:W,useFactory:(o,t,r)=>new Ie(o,t,r,e),deps:[ee,ae,B]},{provide:z,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var ve=(e,o)=>{let t=i(a),r=i(R);return o(e).pipe(M(n=>(n.status===400&&r.error(n.error.message),n.status===404&&t.navigateByUrl("/not-found"),n.status===500&&t.navigateByUrl("/server-error"),j(()=>n))))};var ge=(e,o)=>{let t=i(me);return t.busy(),o(e).pipe(D(500),x(()=>t.idle()))};pe(w,{providers:[U(I.forRoot(he,{scrollPositionRestoration:"enabled",onSameUrlNavigation:"reload"})),re(ie(),ne([ve,ge])),fe()]}).catch(e=>console.error(e));
