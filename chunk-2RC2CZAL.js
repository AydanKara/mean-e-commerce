import{x as c}from"./chunk-WODPYKD2.js";import{a as s}from"./chunk-T4ITIP7S.js";import{c as l}from"./chunk-BLI2WIQU.js";import{F as u,_ as d,ca as p,ia as o,p as n,t as e}from"./chunk-A5AGJRWB.js";var m=class a{http=o(l);productsUrl=`${s.apiUrl}/products`;ordersUrl=`${s.apiUrl}/orders/admin`;usersUrl=`${s.apiUrl}/users`;snackbar=o(c);createProduct(r){return this.http.post(`${this.productsUrl}`,r,{withCredentials:!0})}updateProduct(r,t){return this.http.put(`${this.productsUrl}/${r}`,t,{withCredentials:!0})}deleteProduct(r){return this.http.delete(`${this.productsUrl}/${r}`,{withCredentials:!0})}getAllUsers(){return this.http.get(this.usersUrl,{withCredentials:!0}).pipe(e(r=>r.success?r.users:[]),u(r=>(this.snackbar.error("Failed to load users"),n([]))))}getUserById(r){return this.http.get(`${this.usersUrl}/${r}`,{withCredentials:!0}).pipe(e(t=>t.success?t.user:null))}updateUserAdminStatus(r,t){return this.http.patch(`${this.usersUrl}/${r}`,{isAdmin:t},{withCredentials:!0}).pipe(d(()=>{this.snackbar.success("User's admin status updated.")}),u(i=>{throw this.snackbar.error("Error updating admin status."),i}))}getAllOrders(r){let t=r?.toHttpParams();return this.http.get(this.ordersUrl,{params:t,withCredentials:!0}).pipe(e(i=>i))}updateOrderStatus(r,t){return this.http.put(`${this.ordersUrl}/${r}`,{status:t},{withCredentials:!0})}static \u0275fac=function(t){return new(t||a)};static \u0275prov=p({token:a,factory:a.\u0275fac,providedIn:"root"})};export{m as a};
