import{a as A}from"./chunk-7JRKJCSL.js";import{a as T}from"./chunk-7GLENHJB.js";import{a as F}from"./chunk-7MDGCOW6.js";import"./chunk-CPN2JVP4.js";import{d as w,g as k,i as B}from"./chunk-OM67MVYA.js";import"./chunk-RM2HLJRT.js";import"./chunk-T3Q3DASN.js";import"./chunk-T4ITIP7S.js";import"./chunk-BLI2WIQU.js";import{m as E,n as P,q as D,r as N}from"./chunk-RRDE5Q37.js";import{$b as C,Db as f,Eb as y,Fb as s,Pb as n,Qb as i,Rb as d,Sb as S,Tb as O,X as v,ab as b,cc as x,db as r,ia as u,lc as t,mb as I,mc as p,nc as a,oc as g,uc as _,wc as m,xc as c,yc as M}from"./chunk-A5AGJRWB.js";var R=o=>["/product",o];function z(o,l){o&1&&(n(0,"div",2)(1,"span",3),t(2,"Loading..."),i()())}function L(o,l){if(o&1&&(n(0,"li",28)(1,"div",29)(2,"div",30)(3,"a",31),d(4,"img",32),i()(),n(5,"div",33)(6,"p",34)(7,"a",35),t(8),i(),d(9,"br"),n(10,"span",36),t(11),m(12,"currency"),i()()()()()),o&2){let e=l.$implicit;r(3),s("routerLink",_(8,R,e.product._id)),r(),x("src",e.product.images[0],b),x("alt",e.product.name),r(4),g("",e.product.name," x ",e.quantity,""),r(3),p(c(12,6,e.price))}}function $(o,l){if(o&1&&(S(0),n(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"div",9)(7,"h6",10),t(8,"Order No:"),i(),n(9,"p",11),t(10),i()(),n(11,"div",9)(12,"h6",10),t(13,"Shipped date:"),i(),n(14,"p",11)(15,"time"),t(16),m(17,"formatDate"),i()()(),n(18,"div",9)(19,"h6",10),t(20,"Status:"),i(),n(21,"p",12),t(22),i()(),n(23,"div",9)(24,"h6",10),t(25,"Order Amount:"),i(),n(26,"p",12),t(27),m(28,"currency"),i()()()()()(),n(29,"div",13)(30,"h5",14),t(31),i(),d(32,"hr",15),n(33,"ul",16),f(34,L,13,10,"li",17),i()()(),n(35,"div",4)(36,"div",18)(37,"h5",14),t(38,"Order Total"),i(),n(39,"ul",19)(40,"li",20)(41,"span"),t(42,"Subtotal"),i(),n(43,"span",21),t(44),m(45,"currency"),i()(),n(46,"li",20)(47,"span"),t(48,"Tax"),i(),n(49,"span",21),t(50,"$0.00"),i()(),n(51,"li",20)(52,"span"),t(53,"Shipping"),i(),n(54,"span",21),t(55,"$0.00"),i()(),n(56,"li",22)(57,"span"),t(58,"Total"),i(),n(59,"span",21),t(60),m(61,"currency"),i()()()()(),n(62,"div",23)(63,"div",18)(64,"h5",14),t(65,"Billing & Shipping Details"),i(),n(66,"div",8)(67,"div",24)(68,"p",25),t(69,"Billing Address:"),i(),n(70,"p",26),t(71),d(72,"br"),t(73),d(74,"br"),t(75),d(76,"br"),t(77),i()(),n(78,"div",24)(79,"p",25),t(80,"Shipping Address:"),i(),n(81,"p",26),t(82),d(83,"br"),t(84),d(85,"br"),t(86),d(87,"br"),t(88),i()(),n(89,"div",24)(90,"p",25),t(91,"Payment Method:"),i(),n(92,"p",27),t(93),i()()()()(),O()),o&2){let e=C();r(10),p(e.order==null?null:e.order._id),r(5),y("datetime",e.order==null?null:e.order.createdAt),r(),a(" ",M(17,20,e.order==null?null:e.order.createdAt,"dd MMM, yyyy","en-US")," "),r(6),p(e.order==null?null:e.order.paymentStatus),r(5),a(" ",c(28,24,e.order==null?null:e.order.totalPrice)," "),r(4),a("Order Items (",e.order==null||e.order.orderItems==null?null:e.order.orderItems.length,")"),r(3),s("ngForOf",e.order==null?null:e.order.orderItems),r(10),p(c(45,26,e.order==null?null:e.order.totalPrice)),r(16),p(c(61,28,e.order==null?null:e.order.totalPrice)),r(11),a(" ",e.userName,", "),r(2),a(" ",e.order==null||e.order.shippingInfo==null?null:e.order.shippingInfo.address,", "),r(2),g(" ",e.order==null||e.order.shippingInfo==null?null:e.order.shippingInfo.city,", ",e.order==null||e.order.shippingInfo==null?null:e.order.shippingInfo.zipCode,", "),r(2),a(" ",e.order==null||e.order.shippingInfo==null?null:e.order.shippingInfo.country," "),r(5),a(" ",e.userName,", "),r(2),a(" ",e.order==null||e.order.shippingInfo==null?null:e.order.shippingInfo.address,", "),r(2),g(" ",e.order==null||e.order.shippingInfo==null?null:e.order.shippingInfo.city,", ",e.order==null||e.order.shippingInfo==null?null:e.order.shippingInfo.zipCode,", "),r(2),a(" ",e.order==null||e.order.shippingInfo==null?null:e.order.shippingInfo.country," "),r(5),p(e.order==null?null:e.order.paymentMethod)}}var U=class o{activateRoute=u(w);orderService=u(T);userService=u(F);order=null;userName="";loading=!1;ngOnInit(){this.loadOrder(),this.getUserName()}loadOrder(){this.loading=!0,this.activateRoute.paramMap.pipe(v(l=>{let e=l.get("id");return e?this.orderService.getOrderById(e):[]})).subscribe({next:l=>{this.loading=!1,this.order=l},error:l=>{this.loading=!1,console.error(l)}})}getUserName(){this.userService.getCurrentUser().subscribe(l=>{this.userName=l.fullName})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=I({type:o,selectors:[["app-order-details"]],decls:2,vars:2,consts:[["class","spinner-border text-primary d-block mt-5","role","status",4,"ngIf"],[4,"ngIf"],["role","status",1,"spinner-border","text-primary","d-block","mt-5"],[1,"visually-hidden"],[1,"card","card-lg","mb-5","border"],[1,"card-body","pb-0"],[1,"card","card-sm"],[1,"card-body","bg-light"],[1,"row"],[1,"col-6","col-lg-3"],[1,"heading-xxxs","text-muted"],[1,"mb-lg-0","fs-sm","fw-bold"],[1,"mb-0","fs-sm","fw-bold"],[1,"card-footer"],[1,"mb-4"],[1,"my-4"],[1,"list-group","list-group-lg","list-group-flush-y","list-group-flush-x"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"card-body"],[1,"list-group","list-group-sm","list-group-flush-y","list-group-flush-x"],[1,"list-group-item","d-flex"],[1,"ms-auto"],[1,"list-group-item","d-flex","fs-lg","fw-bold"],[1,"card","card-lg","border"],[1,"col-12","col-md-4"],[1,"mb-2","fw-bold"],[1,"mb-2","mb-md-0","text-gray-500"],[1,"mb-0","text-gray-500"],[1,"list-group-item"],[1,"row","align-items-center"],[1,"col-4","col-md-3","col-xl-2"],[3,"routerLink"],[1,"img-fluid",3,"src","alt"],[1,"col"],[1,"mb-4","fs-sm","fw-bold"],["href","product.html",1,"text-body","docs-creator"],[1,"text-muted"]],template:function(e,h){e&1&&f(0,z,3,0,"div",0)(1,$,94,30,"ng-container",1),e&2&&(s("ngIf",h.loading),r(),s("ngIf",!h.loading))},dependencies:[N,E,P,D,B,k,A],styles:[".card[_ngcontent-%COMP%]{background-color:#fff}.border[_ngcontent-%COMP%]{border:1px solid #e5e5e5!important}.card-lg[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%], .card-lg[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{padding:2rem}.card-body[_ngcontent-%COMP%]{flex:0 0 auto}.card-footer[_ngcontent-%COMP%]{background-color:transparent;border-top:0 solid hsla(0,0%,7%,.125)}hr[_ngcontent-%COMP%]{background-color:currentColor;border:0;color:#909090;margin:1.5rem 0;opacity:.25}hr[_ngcontent-%COMP%]:not([size]){height:1px}.list-group-item[_ngcontent-%COMP%]{border:1px solid #e5e5e5;display:block;padding:1.5rem;position:relative}.list-group-item[_ngcontent-%COMP%], .list-group-item-action[_ngcontent-%COMP%]:active{background-color:transparent;color:#1f1f1f}.list-group-item-action[_ngcontent-%COMP%]{color:#767676;text-align:inherit;width:100%}.list-group-flush-x[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{border-left:none;border-right:none;padding-left:0;padding-right:0}.list-group-item[_ngcontent-%COMP%] + .list-group-item[_ngcontent-%COMP%]{border-top-width:0}.list-group-flush-y[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:first-child{border-top:none;padding-top:0}.list-group-flush-y[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:last-child{border-bottom:0;padding-bottom:0}"]})};export{U as OrderDetailsComponent};
