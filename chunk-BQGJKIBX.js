import{s as d}from"./chunk-CPN2JVP4.js";import{a as e}from"./chunk-T4ITIP7S.js";import{c as n}from"./chunk-BLI2WIQU.js";import{F as i,_ as p,ca as c,ia as a,p as o,t as u}from"./chunk-A5AGJRWB.js";var l=class s{http=a(n);productsUrl=`${e.apiUrl}/products`;apiUrl=`${e.apiUrl}/auth`;userUrl=`${e.apiUrl}/users`;snackbar=a(d);createProduct(r){return this.http.post(`${this.productsUrl}`,r,{withCredentials:!0})}updateProduct(r,t){return this.http.put(`${this.productsUrl}/${r}`,t,{withCredentials:!0})}deleteProduct(r){return this.http.delete(`${this.productsUrl}/${r}`,{withCredentials:!0})}getAllUsers(){return this.http.get(this.userUrl,{withCredentials:!0}).pipe(u(r=>r.success?r.users:[]),i(r=>(this.snackbar.error("Failed to load users"),o([]))))}updateUserAdminStatus(r,t){return this.http.patch(`${this.userUrl}/${r}`,{isAdmin:t},{withCredentials:!0}).pipe(p(()=>{this.snackbar.success("User's admin status updated.")}),i(h=>{throw this.snackbar.error("Error updating admin status."),h}))}static \u0275fac=function(t){return new(t||s)};static \u0275prov=c({token:s,factory:s.\u0275fac,providedIn:"root"})};export{l as a};
