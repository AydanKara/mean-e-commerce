import{a as F}from"./chunk-2BYQFWPK.js";import{a as B}from"./chunk-7NVP3HIW.js";import"./chunk-MWLBEBGE.js";import{a as R}from"./chunk-YZLR3JRR.js";import{a as A,b as U}from"./chunk-6LCJOVVU.js";import{d as N,g as T,i as k}from"./chunk-BWLJFYGV.js";import"./chunk-MV4XN6CR.js";import"./chunk-DTAZCNIX.js";import"./chunk-VWCMHKBA.js";import"./chunk-T4ITIP7S.js";import"./chunk-QKMSTV2X.js";import"./chunk-T3Q3DASN.js";import{m as E,n as P,q as w,r as D}from"./chunk-SPT54WKC.js";import{$a as b,Cb as x,Db as y,Eb as s,Ob as n,Pb as i,Qb as a,Rb as S,Sb as O,X as h,_b as _,bc as g,cb as r,ia as u,kc as t,lb as I,lc as p,mc as d,nc as f,tc as C,vc as m,wc as c,xc as M}from"./chunk-IB35DNSN.js";var L=o=>["/product",o];function $(o,l){o&1&&(n(0,"div",2)(1,"span",3),t(2,"Loading..."),i()())}function j(o,l){if(o&1&&(n(0,"li",30)(1,"div",31)(2,"div",32)(3,"a",33),a(4,"img",34),i()(),n(5,"div",35)(6,"p",36)(7,"a",37),t(8),i(),a(9,"br"),n(10,"span",38),t(11),m(12,"currency"),i()()()()()),o&2){let e=l.$implicit;r(3),s("routerLink",C(8,L,e.product._id)),r(),g("src",e.product.images[0],b),g("alt",e.product.name),r(4),f("",e.product.name," x ",e.quantity,""),r(3),p(c(12,6,e.price))}}function q(o,l){if(o&1&&(S(0),n(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"div",9)(7,"h6",10),t(8,"Order No:"),i(),n(9,"p",11),t(10),i()(),n(11,"div",9)(12,"h6",10),t(13,"Shipped date:"),i(),n(14,"p",12)(15,"time"),t(16),m(17,"formatDate"),i()()(),n(18,"div",9)(19,"h6",10),t(20,"Order status:"),i(),n(21,"p",13),t(22),i()(),n(23,"div",9)(24,"h6",10),t(25,"Order Amount:"),i(),n(26,"p",13),t(27),m(28,"currency"),i()()()()()(),n(29,"div",14)(30,"h5",15),t(31),i(),a(32,"hr",16),n(33,"ul",17),x(34,j,13,10,"li",18),i()()(),n(35,"div",4)(36,"div",19)(37,"h5",15),t(38,"Order Total"),i(),n(39,"ul",20)(40,"li",21)(41,"span"),t(42,"Subtotal"),i(),n(43,"span",22),t(44),m(45,"currency"),i()(),n(46,"li",21)(47,"span"),t(48,"Tax"),i(),n(49,"span",22),t(50,"$0.00"),i()(),n(51,"li",21)(52,"span"),t(53,"Shipping"),i(),n(54,"span",22),t(55,"$0.00"),i()(),n(56,"li",23)(57,"span"),t(58,"Total"),i(),n(59,"span",22),t(60),m(61,"currency"),i()()()()(),n(62,"div",24)(63,"div",19)(64,"h5",15),t(65,"Billing & Shipping Details"),i(),n(66,"div",8)(67,"div",25)(68,"p",26),t(69,"Billing Address:"),i(),n(70,"p",27),t(71),a(72,"br"),t(73),a(74,"br"),t(75),a(76,"br"),t(77),i()(),n(78,"div",25)(79,"p",26),t(80,"Shipping Address:"),i(),n(81,"p",27),t(82),a(83,"br"),t(84),a(85,"br"),t(86),a(87,"br"),t(88),i()(),n(89,"div",28)(90,"div")(91,"p",26),t(92,"Payment Method:"),i(),n(93,"p",29),t(94),i()(),n(95,"div")(96,"p",26),t(97,"Payment Status:"),i(),n(98,"p",29),t(99),i()()()()()(),O()),o&2){let e=_();r(9),g("matTooltip",e.order==null?null:e.order._id),r(),d(" ...",e.order==null||e.order._id==null?null:e.order._id.slice(-5)," "),r(5),y("datetime",e.order==null?null:e.order.createdAt),r(),d(" ",M(17,22,e.order==null?null:e.order.createdAt,"dd MMM, yyyy","en-US")," "),r(6),p(e.order==null?null:e.order.orderStatus),r(5),d(" ",c(28,26,e.order==null?null:e.order.totalPrice)," "),r(4),d("Order Items (",e.order==null||e.order.orderItems==null?null:e.order.orderItems.length,")"),r(3),s("ngForOf",e.order==null?null:e.order.orderItems),r(10),p(c(45,28,e.order==null?null:e.order.totalPrice)),r(16),p(c(61,30,e.order==null?null:e.order.totalPrice)),r(11),d(" ",e.userName,", "),r(2),d(" ",e.order==null||e.order.shippingInfo==null?null:e.order.shippingInfo.address,", "),r(2),f(" ",e.order==null||e.order.shippingInfo==null?null:e.order.shippingInfo.city,", ",e.order==null||e.order.shippingInfo==null?null:e.order.shippingInfo.zipCode,", "),r(2),d(" ",e.order==null||e.order.shippingInfo==null?null:e.order.shippingInfo.country," "),r(5),d(" ",e.userName,", "),r(2),d(" ",e.order==null||e.order.shippingInfo==null?null:e.order.shippingInfo.address,", "),r(2),f(" ",e.order==null||e.order.shippingInfo==null?null:e.order.shippingInfo.city,", ",e.order==null||e.order.shippingInfo==null?null:e.order.shippingInfo.zipCode,", "),r(2),d(" ",e.order==null||e.order.shippingInfo==null?null:e.order.shippingInfo.country," "),r(6),p(e.order==null?null:e.order.paymentMethod),r(5),p(e.order==null?null:e.order.paymentStatus)}}var z=class o{activateRoute=u(N);orderService=u(F);userService=u(B);order=null;userName="";loading=!1;ngOnInit(){this.loadOrder(),this.getUserName()}loadOrder(){this.loading=!0,this.activateRoute.paramMap.pipe(h(l=>{let e=l.get("id");return e?this.orderService.getOrderById(e):[]})).subscribe({next:l=>{this.loading=!1,this.order=l},error:l=>{this.loading=!1,console.error(l)}})}getUserName(){this.userService.getCurrentUser().subscribe(l=>{this.userName=l.fullName})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=I({type:o,selectors:[["app-order-details"]],decls:2,vars:2,consts:[["class","spinner-border text-primary d-block mt-5","role","status",4,"ngIf"],[4,"ngIf"],["role","status",1,"spinner-border","text-primary","d-block","mt-5"],[1,"visually-hidden"],[1,"card","card-lg","mb-5","border"],[1,"card-body","pb-0"],[1,"card","card-sm"],[1,"card-body","bg-light"],[1,"row"],[1,"col-6","col-lg-3"],[1,"heading-xxxs","text-muted"],[1,"mb-lg-0","fs-sm","fw-bold",3,"matTooltip"],[1,"mb-lg-0","fs-sm","fw-bold"],[1,"mb-0","fs-sm","fw-bold"],[1,"card-footer"],[1,"mb-4"],[1,"my-4"],[1,"list-group","list-group-lg","list-group-flush-y","list-group-flush-x"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"card-body"],[1,"list-group","list-group-sm","list-group-flush-y","list-group-flush-x"],[1,"list-group-item","d-flex"],[1,"ms-auto"],[1,"list-group-item","d-flex","fs-lg","fw-bold"],[1,"card","card-lg","border"],[1,"col-12","col-md-4"],[1,"mb-2","fw-bold"],[1,"mb-2","mb-md-0","text-gray-500"],[1,"col-12","col-md-4","d-flex","flex-column","justify-content-between"],[1,"mb-0","text-gray-500"],[1,"list-group-item"],[1,"row","align-items-center"],[1,"col-4","col-md-3","col-xl-2"],[3,"routerLink"],[1,"img-fluid",3,"src","alt"],[1,"col"],[1,"mb-4","fs-sm","fw-bold"],["href","product.html",1,"text-body","docs-creator"],[1,"text-muted"]],template:function(e,v){e&1&&x(0,$,3,0,"div",0)(1,q,100,32,"ng-container",1),e&2&&(s("ngIf",v.loading),r(),s("ngIf",!v.loading))},dependencies:[D,E,P,w,k,T,R,U,A],styles:[".card[_ngcontent-%COMP%]{background-color:#fff}.border[_ngcontent-%COMP%]{border:1px solid #e5e5e5!important}.card-lg[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%], .card-lg[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{padding:2rem}.card-body[_ngcontent-%COMP%]{flex:0 0 auto}.card-footer[_ngcontent-%COMP%]{background-color:transparent;border-top:0 solid hsla(0,0%,7%,.125)}hr[_ngcontent-%COMP%]{background-color:currentColor;border:0;color:#909090;margin:1.5rem 0;opacity:.25}hr[_ngcontent-%COMP%]:not([size]){height:1px}.list-group[_ngcontent-%COMP%]{max-height:38rem;overflow-y:auto;overflow-x:hidden;border-radius:0}.list-group-item[_ngcontent-%COMP%]{border:1px solid #e5e5e5;display:block;padding:1.5rem;position:relative}.list-group-item[_ngcontent-%COMP%], .list-group-item-action[_ngcontent-%COMP%]:active{background-color:transparent;color:#1f1f1f}.list-group-item-action[_ngcontent-%COMP%]{color:#767676;text-align:inherit;width:100%}.list-group-flush-x[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{border-left:none;border-right:none;padding-left:0;padding-right:0}.list-group-item[_ngcontent-%COMP%] + .list-group-item[_ngcontent-%COMP%]{border-top-width:0}.list-group-flush-y[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:first-child{border-top:none;padding-top:0}.list-group-flush-y[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:last-child{border-bottom:0;padding-bottom:0}"]})};export{z as OrderDetailsComponent};
