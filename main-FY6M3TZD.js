import{a as ae}from"./chunk-G7YNBEKU.js";import{a as re,b as ne,c as ie}from"./chunk-QV2PP6DZ.js";import"./chunk-23CUZQWY.js";import{a as s}from"./chunk-JQ7IIVUH.js";import{s as I}from"./chunk-7CMIEGEP.js";import"./chunk-MAP4FUGS.js";import{a as te,b as oe,e as b,f as a,i as R}from"./chunk-NTBE4NJ6.js";import"./chunk-BRGKWRVN.js";import"./chunk-T3Q3DASN.js";import"./chunk-T4ITIP7S.js";import{d as Q,e as $,f as ee}from"./chunk-MAQY66WU.js";import{d as J,i as K,q as A}from"./chunk-HXLDE4VL.js";import{$ as U,Ca as B,D as h,F as M,J as f,L as E,La as G,N as L,Na as z,Nb as Y,Ob as X,Pb as g,Qb as Z,Rb as q,ca as p,eb as k,fa as x,fb as V,ha as v,ia as i,jb as W,la as T,ma as _,mb as S,q as D,t as d,u,za as H}from"./chunk-XVGCL5GT.js";var m=class e{constructor(o,t){this.userService=o;this.router=t}canActivate(o,t){return u([this.userService.getAuthState(),this.userService.getLoadingState()]).pipe(h(([r,n])=>!n),d(([r])=>r?!0:(this.router.navigate(["/login"]),!1)),f(1))}static \u0275fac=function(t){return new(t||e)(v(s),v(a))};static \u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})};var F=class e{ngOnInit(){}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=S({type:e,selectors:[["app-layout"]],decls:4,vars:0,template:function(t,r){t&1&&(g(0,"app-header"),Y(1,"main"),g(2,"router-outlet"),X(),g(3,"app-footer"))},dependencies:[R,b,A,ne,ie],encapsulation:2})};var O=class e{constructor(o,t){this.userService=o;this.router=t}canActivate(o,t){return u([this.userService.getAuthState(),this.userService.getLoadingState()]).pipe(h(([r,n])=>!n),d(([r])=>r?.isAdmin?!0:(this.router.navigate(["/"]),!1)),f(1))}static \u0275fac=function(t){return new(t||e)(v(s),v(a))};static \u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})};var P=class e{orderService=i(ae);router=i(a);canActivate(){return this.orderService.isOrderPlaced()?!0:(this.router.navigate(["/"]),!1)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})};var y=class e{userService=i(s);router=i(a);location=i(K);snackbar=i(I);canActivate(o,t){return u([this.userService.getAuthState(),this.userService.getLoadingState()]).pipe(h(([r,n])=>!n),d(([r])=>r?(this.snackbar.error("You are already logged in!"),setTimeout(()=>this.navigateBack(),2e3),!1):!0),f(1))}navigateBack(){this.location.back()}static \u0275fac=function(t){return new(t||e)};static \u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})};var se=[{path:"admin",canActivate:[m,O],loadComponent:()=>import("./chunk-P6U3VIOK.js").then(e=>e.AdminLayoutComponent),children:[{path:"products/edit/:id",loadComponent:()=>import("./chunk-CEWKAOPI.js").then(e=>e.ProductCreateComponent)},{path:"products",loadComponent:()=>import("./chunk-L6KBGQEA.js").then(e=>e.ProductsComponent)},{path:"dashboard",loadComponent:()=>import("./chunk-PFA6WGJM.js").then(e=>e.DashboardComponent)},{path:"product/create",loadComponent:()=>import("./chunk-CEWKAOPI.js").then(e=>e.ProductCreateComponent)},{path:"categories",loadComponent:()=>import("./chunk-S3RLASFA.js").then(e=>e.CategoriesComponent)},{path:"user-lists",loadComponent:()=>import("./chunk-FODP4LAX.js").then(e=>e.UsersComponent)}]},{path:"",component:F,children:[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",loadComponent:()=>import("./chunk-2GY7BW2U.js").then(e=>e.HomeComponent)},{path:"login",canActivate:[y],loadComponent:()=>import("./chunk-2IUIM4ZA.js").then(e=>e.LoginComponent)},{path:"register",canActivate:[y],loadComponent:()=>import("./chunk-TVD4MDS4.js").then(e=>e.RegisterComponent)},{path:"profile",loadComponent:()=>import("./chunk-I4S57OG4.js").then(e=>e.ProfileComponent),canActivate:[m],children:[{path:"",loadComponent:()=>import("./chunk-TGKMP5LD.js").then(e=>e.AccountWelcomeComponent)},{path:"account-orders",loadComponent:()=>import("./chunk-NKNYLW5J.js").then(e=>e.AccountOrdersComponent)},{path:"order-details/:id",loadComponent:()=>import("./chunk-7FF44J3N.js").then(e=>e.OrderDetailsComponent)},{path:"account-wishlist",loadComponent:()=>import("./chunk-VYUCVY5P.js").then(e=>e.AccountWishlistComponent)},{path:"account-personal-info",loadComponent:()=>import("./chunk-YOWHMR7U.js").then(e=>e.AccountPersonalInfoComponent)},{path:"account-address",loadComponent:()=>import("./chunk-4RHW34ME.js").then(e=>e.AccountAddressComponent)},{path:"account-payment",loadComponent:()=>import("./chunk-A5HCF75G.js").then(e=>e.AccountPaymentComponent)}]},{path:"shop",loadComponent:()=>import("./chunk-7MMBP3NZ.js").then(e=>e.ShopComponent)},{path:"product/:id",loadComponent:()=>import("./chunk-EGTKVSTX.js").then(e=>e.ProductDetailsComponent)},{path:"shopping-cart",loadComponent:()=>import("./chunk-AYENRAN5.js").then(e=>e.ShoppingCartComponent),canActivate:[m]},{path:"checkout",loadComponent:()=>import("./chunk-NOUJVVYH.js").then(e=>e.CheckoutComponent),canActivate:[m]},{path:"order-confirmation/:id",loadComponent:()=>import("./chunk-UFR3GICM.js").then(e=>e.OrderConfirmationComponent),canActivate:[m,P]},{path:"not-found",loadComponent:()=>import("./chunk-GFYOZ6EQ.js").then(e=>e.NotFoundComponent)},{path:"server-error",loadComponent:()=>import("./chunk-RMPWLBRN.js").then(e=>e.ServerErrorComponent)},{path:"**",redirectTo:"not-found",pathMatch:"full"}]}];var w=class e{constructor(o,t){this.userService=o;this.router=t}isLoading=!0;ngOnInit(){}static \u0275fac=function(t){return new(t||e)(k(s),k(a))};static \u0275cmp=S({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){t&1&&(Z(0),g(1,"router-outlet"),q())},dependencies:[b,A],encapsulation:2})};var he="@",fe=(()=>{class e{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=i(H,{optional:!0});loadingSchedulerFn=i(ve,{optional:!0});_engine;constructor(t,r,n,c,l){this.doc=t,this.delegate=r,this.zone=n,this.animationType=c,this.moduleImpl=l}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-TPNRDU7G.js").then(n=>n),r;return this.loadingSchedulerFn?r=this.loadingSchedulerFn(t):r=t(),r.catch(n=>{throw new U(5300,!1)}).then(({\u0275createEngine:n,\u0275AnimationRendererFactory:c})=>{this._engine=n(this.animationType,this.doc);let l=new c(this.delegate,this._engine,this.zone);return this.delegate=l,l})}createRenderer(t,r){let n=this.delegate.createRenderer(t,r);if(n.\u0275type===0)return n;typeof n.throwOnSyntheticProps=="boolean"&&(n.throwOnSyntheticProps=!1);let c=new j(n);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(l=>{let de=l.createRenderer(t,r);c.use(de),this.scheduler?.notify(11)}).catch(l=>{c.use(n)}),c}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static \u0275fac=function(r){V()};static \u0275prov=p({token:e,factory:e.\u0275fac})}return e})(),j=class{delegate;replay=[];\u0275type=1;constructor(o){this.delegate=o}use(o){if(this.delegate=o,this.replay!==null){for(let t of this.replay)t(o);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(o,t){return this.delegate.createElement(o,t)}createComment(o){return this.delegate.createComment(o)}createText(o){return this.delegate.createText(o)}get destroyNode(){return this.delegate.destroyNode}appendChild(o,t){this.delegate.appendChild(o,t)}insertBefore(o,t,r,n){this.delegate.insertBefore(o,t,r,n)}removeChild(o,t,r){this.delegate.removeChild(o,t,r)}selectRootElement(o,t){return this.delegate.selectRootElement(o,t)}parentNode(o){return this.delegate.parentNode(o)}nextSibling(o){return this.delegate.nextSibling(o)}setAttribute(o,t,r,n){this.delegate.setAttribute(o,t,r,n)}removeAttribute(o,t,r){this.delegate.removeAttribute(o,t,r)}addClass(o,t){this.delegate.addClass(o,t)}removeClass(o,t){this.delegate.removeClass(o,t)}setStyle(o,t,r,n){this.delegate.setStyle(o,t,r,n)}removeStyle(o,t,r){this.delegate.removeStyle(o,t,r)}setProperty(o,t,r){this.shouldReplay(t)&&this.replay.push(n=>n.setProperty(o,t,r)),this.delegate.setProperty(o,t,r)}setValue(o,t){this.delegate.setValue(o,t)}listen(o,t,r){return this.shouldReplay(t)&&this.replay.push(n=>n.listen(o,t,r)),this.delegate.listen(o,t,r)}shouldReplay(o){return this.replay!==null&&o.startsWith(he)}},ve=new x("");function me(e="animations"){return z("NgAsyncAnimations"),T([{provide:W,useFactory:(o,t,r)=>new fe(o,t,r,e),deps:[J,te,B]},{provide:G,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var ce=(e,o)=>{let t=i(a),r=i(I);return o(e).pipe(M(n=>(n.status===400&&r.error(n.error.message),n.status===404&&t.navigateByUrl("/not-found"),n.status===500&&t.navigateByUrl("/server-error"),D(()=>n))))};var le=(e,o)=>{let t=i(re);return t.busy(),o(e).pipe(E(500),L(()=>t.idle()))};oe(w,{providers:[_(R.forRoot(se,{scrollPositionRestoration:"enabled",onSameUrlNavigation:"reload"})),Q(ee(),$([ce,le])),me()]}).catch(e=>console.error(e));
