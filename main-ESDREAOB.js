import{a as ne}from"./chunk-2BYQFWPK.js";import{a as te,b as oe,c as re}from"./chunk-ACOBVRQO.js";import{a as C}from"./chunk-7NVP3HIW.js";import"./chunk-MWLBEBGE.js";import"./chunk-3YL4P2Y3.js";import"./chunk-GQBWTHKC.js";import{a as $,b as ee,e as b,f as p,i as R}from"./chunk-BWLJFYGV.js";import"./chunk-EQ3PTJBT.js";import{e as I}from"./chunk-MV4XN6CR.js";import"./chunk-DTAZCNIX.js";import"./chunk-VWCMHKBA.js";import"./chunk-T4ITIP7S.js";import{d as J,e as K,f as Q}from"./chunk-QKMSTV2X.js";import"./chunk-T3Q3DASN.js";import{d as X,i as Z,r as S}from"./chunk-SPT54WKC.js";import{$ as E,Ca as _,D as u,F as N,J as h,L as M,La as H,N as j,Na as B,Ob as V,Pb as W,Qb as v,Rb as Y,Sb as q,ca as a,eb as G,fa as x,ha as f,ia as i,ib as z,la as L,lb as A,ma as U,q as D,t as l,u as d,za as T}from"./chunk-IB35DNSN.js";var s=class e{constructor(o,t){this.userService=o;this.router=t}canActivate(o,t){return d([this.userService.getAuthState(),this.userService.getLoadingState()]).pipe(u(([r,n])=>!n),l(([r])=>r?!0:(this.router.navigate(["/login"],{queryParams:{returnUrl:t.url}}),localStorage.removeItem("selectedMenuItem"),!1)),h(1))}static \u0275fac=function(t){return new(t||e)(f(C),f(p))};static \u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"})};var F=class e{ngOnInit(){}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=A({type:e,selectors:[["app-layout"]],decls:4,vars:0,template:function(t,r){t&1&&(v(0,"app-header"),V(1,"main"),v(2,"router-outlet"),W(),v(3,"app-footer"))},dependencies:[R,b,S,oe,re],encapsulation:2})};var O=class e{constructor(o,t){this.userService=o;this.router=t}canActivate(o,t){return d([this.userService.getAuthState(),this.userService.getLoadingState()]).pipe(u(([r,n])=>!n),l(([r])=>r?.isAdmin?!0:(this.router.navigate(["/"]),!1)),h(1))}static \u0275fac=function(t){return new(t||e)(f(C),f(p))};static \u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"})};var P=class e{orderService=i(ne);router=i(p);canActivate(){return this.orderService.isOrderPlaced()?!0:(this.router.navigate(["/"]),!1)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"})};var y=class e{userService=i(C);router=i(p);location=i(Z);snackbar=i(I);canActivate(o,t){return d([this.userService.getAuthState(),this.userService.getLoadingState()]).pipe(u(([r,n])=>!n),l(([r])=>r?(this.snackbar.error("You are already logged in!"),setTimeout(()=>this.navigateBack(),2e3),!1):!0),h(1))}navigateBack(){this.location.back()}static \u0275fac=function(t){return new(t||e)};static \u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"})};var ae=[{path:"admin",canActivate:[s,O],loadComponent:()=>import("./chunk-A5DTL6XC.js").then(e=>e.AdminLayoutComponent),children:[{path:"products/edit/:id",loadComponent:()=>import("./chunk-YHFIHDJO.js").then(e=>e.ProductCreateComponent)},{path:"products",loadComponent:()=>import("./chunk-FXXVHXCJ.js").then(e=>e.ProductsComponent)},{path:"dashboard",loadComponent:()=>import("./chunk-32SCLS7T.js").then(e=>e.DashboardComponent)},{path:"product/create",loadComponent:()=>import("./chunk-YHFIHDJO.js").then(e=>e.ProductCreateComponent)},{path:"categories",loadComponent:()=>import("./chunk-PPQEVK7M.js").then(e=>e.CategoriesComponent)},{path:"user-lists",loadComponent:()=>import("./chunk-3T2YK23Q.js").then(e=>e.UsersComponent)},{path:"orders",loadComponent:()=>import("./chunk-UVXSB5BX.js").then(e=>e.OrdersComponent)},{path:"order-details/:id",loadComponent:()=>import("./chunk-GTFRX5N3.js").then(e=>e.OrderDetailsComponent)}]},{path:"",component:F,children:[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",loadComponent:()=>import("./chunk-O3KMHH3Z.js").then(e=>e.HomeComponent)},{path:"login",canActivate:[y],loadComponent:()=>import("./chunk-J3ZODGXT.js").then(e=>e.LoginComponent)},{path:"register",canActivate:[y],loadComponent:()=>import("./chunk-FUXAVS56.js").then(e=>e.RegisterComponent)},{path:"profile",loadComponent:()=>import("./chunk-BX7LTLV3.js").then(e=>e.ProfileComponent),canActivate:[s],children:[{path:"",loadComponent:()=>import("./chunk-FRX6FES3.js").then(e=>e.AccountWelcomeComponent)},{path:"account-orders",loadComponent:()=>import("./chunk-2UJ2BVTW.js").then(e=>e.AccountOrdersComponent)},{path:"order-details/:id",loadComponent:()=>import("./chunk-DT5HMFIF.js").then(e=>e.OrderDetailsComponent)},{path:"account-wishlist",loadComponent:()=>import("./chunk-7CPBOO6X.js").then(e=>e.AccountWishlistComponent)},{path:"account-personal-info",loadComponent:()=>import("./chunk-6BPEVC5M.js").then(e=>e.AccountPersonalInfoComponent)},{path:"account-address",loadComponent:()=>import("./chunk-3EW52UR2.js").then(e=>e.AccountAddressComponent)},{path:"account-payment",loadComponent:()=>import("./chunk-F5UT72PT.js").then(e=>e.AccountPaymentComponent)}]},{path:"shop",loadComponent:()=>import("./chunk-FSKGHZYP.js").then(e=>e.ShopComponent)},{path:"product/:id",loadComponent:()=>import("./chunk-27RK7VPR.js").then(e=>e.ProductDetailsComponent)},{path:"shopping-cart",loadComponent:()=>import("./chunk-C7A3MKYR.js").then(e=>e.ShoppingCartComponent),canActivate:[s]},{path:"checkout",loadComponent:()=>import("./chunk-UWO37IT7.js").then(e=>e.CheckoutComponent),canActivate:[s]},{path:"order-confirmation/:id",loadComponent:()=>import("./chunk-KFBU7BQX.js").then(e=>e.OrderConfirmationComponent),canActivate:[s,P]},{path:"not-found",loadComponent:()=>import("./chunk-4FF6XYT7.js").then(e=>e.NotFoundComponent)},{path:"server-error",loadComponent:()=>import("./chunk-K3KZ7EP4.js").then(e=>e.ServerErrorComponent)},{path:"**",redirectTo:"not-found",pathMatch:"full"}]}];var w=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=A({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){t&1&&(Y(0),v(1,"router-outlet"),q())},dependencies:[b,S],encapsulation:2})};var ue="@",he=(()=>{class e{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=i(T,{optional:!0});loadingSchedulerFn=i(fe,{optional:!0});_engine;constructor(t,r,n,m,c){this.doc=t,this.delegate=r,this.zone=n,this.animationType=m,this.moduleImpl=c}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-HSHA4DTQ.js").then(n=>n),r;return this.loadingSchedulerFn?r=this.loadingSchedulerFn(t):r=t(),r.catch(n=>{throw new E(5300,!1)}).then(({\u0275createEngine:n,\u0275AnimationRendererFactory:m})=>{this._engine=n(this.animationType,this.doc);let c=new m(this.delegate,this._engine,this.zone);return this.delegate=c,c})}createRenderer(t,r){let n=this.delegate.createRenderer(t,r);if(n.\u0275type===0)return n;typeof n.throwOnSyntheticProps=="boolean"&&(n.throwOnSyntheticProps=!1);let m=new k(n);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(c=>{let ce=c.createRenderer(t,r);m.use(ce),this.scheduler?.notify(11)}).catch(c=>{m.use(n)}),m}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static \u0275fac=function(r){G()};static \u0275prov=a({token:e,factory:e.\u0275fac})}return e})(),k=class{delegate;replay=[];\u0275type=1;constructor(o){this.delegate=o}use(o){if(this.delegate=o,this.replay!==null){for(let t of this.replay)t(o);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(o,t){return this.delegate.createElement(o,t)}createComment(o){return this.delegate.createComment(o)}createText(o){return this.delegate.createText(o)}get destroyNode(){return this.delegate.destroyNode}appendChild(o,t){this.delegate.appendChild(o,t)}insertBefore(o,t,r,n){this.delegate.insertBefore(o,t,r,n)}removeChild(o,t,r){this.delegate.removeChild(o,t,r)}selectRootElement(o,t){return this.delegate.selectRootElement(o,t)}parentNode(o){return this.delegate.parentNode(o)}nextSibling(o){return this.delegate.nextSibling(o)}setAttribute(o,t,r,n){this.delegate.setAttribute(o,t,r,n)}removeAttribute(o,t,r){this.delegate.removeAttribute(o,t,r)}addClass(o,t){this.delegate.addClass(o,t)}removeClass(o,t){this.delegate.removeClass(o,t)}setStyle(o,t,r,n){this.delegate.setStyle(o,t,r,n)}removeStyle(o,t,r){this.delegate.removeStyle(o,t,r)}setProperty(o,t,r){this.shouldReplay(t)&&this.replay.push(n=>n.setProperty(o,t,r)),this.delegate.setProperty(o,t,r)}setValue(o,t){this.delegate.setValue(o,t)}listen(o,t,r){return this.shouldReplay(t)&&this.replay.push(n=>n.listen(o,t,r)),this.delegate.listen(o,t,r)}shouldReplay(o){return this.replay!==null&&o.startsWith(ue)}},fe=new x("");function pe(e="animations"){return B("NgAsyncAnimations"),L([{provide:z,useFactory:(o,t,r)=>new he(o,t,r,e),deps:[X,$,_]},{provide:H,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var se=(e,o)=>{let t=i(p),r=i(I);return o(e).pipe(N(n=>(n.status===400&&r.error(n.error.message),n.status===404&&t.navigateByUrl("/not-found"),n.status===500&&t.navigateByUrl("/server-error"),D(()=>n))))};var me=(e,o)=>{let t=i(te);return t.busy(),o(e).pipe(M(500),j(()=>t.idle()))};ee(w,{providers:[U(R.forRoot(ae,{scrollPositionRestoration:"enabled",onSameUrlNavigation:"reload"})),J(Q(),K([se,me])),pe()]}).catch(e=>console.error(e));
